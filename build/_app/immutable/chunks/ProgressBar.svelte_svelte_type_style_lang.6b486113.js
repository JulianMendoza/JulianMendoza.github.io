import{w}from"./index.56353296.js";import{x as h}from"./scheduler.dbffc7a4.js";function v(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const l={};function S(e){return e==="local"?localStorage:sessionStorage}function m(e,r,s){const n=(s==null?void 0:s.serializer)??JSON,f=(s==null?void 0:s.storage)??"local";function u(a,c){S(f).setItem(a,n.stringify(c))}if(!l[e]){const a=w(r,t=>{const o=S(f).getItem(e);o&&t(n.parse(o));{const i=d=>{d.key===e&&t(d.newValue?n.parse(d.newValue):null)};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)}}),{subscribe:c,set:g}=a;l[e]={set(t){u(e,t),g(t)},update(t){const o=t(h(a));u(e,o),g(o)},subscribe:c}}return l[e]}const P=m("modeOsPrefers",!1),M=m("modeUserPrefers",void 0),L=m("modeCurrent",!1);function E(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return P.set(e),e}function b(e){M.set(e)}function I(e){const r=document.documentElement.classList,s="dark";e===!0?r.remove(s):r.add(s),L.set(e)}function O(){const e=document.documentElement.classList,r=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),n=window.matchMedia("(prefers-color-scheme: dark)").matches;r||s&&n?e.add("dark"):e.remove("dark")}export{I as a,b,v as e,E as g,L as m,O as s};
